BLACK = [50/255, 50/255, 50/255];
BROWN = [202/255, 141/255, 72/255];

def BARCELONA_CHAIR(color):

	#skeleton - legs
	points000 = [[4.59, 3.84, 0], [4.79, 3.7, 0], [3.66, 3.21, 0], [3.05, 3.29, 0]];
	points001 = [[4.78, 3.68, 0], [4.66, 3.84, 0], [4.15, 3.21, 0], [3.06, 3.26, 0]]
	legs00 = BS2([points000, points001]);

	points002 = [[4.78, 3.68, 0], [5.11, 3.37, 0], [5.32, 3.2, 0], [5.81, 3.17, 0]];
	points003 = [[4.76, 3.77, 0], [5.09, 3.46, 0], [5.29, 3.23, 0], [5.84, 3.21, 0]];
	legs01 = BS2([points002, points003]);

	points004 = [[4.76, 3.77, 0], [4.75, 3.89, 0], [5.77, 4.4, 0], [5.88, 5.84, 0]];
	points005 = [[4.66, 3.87, 0], [4.75, 3.75, 0], [5.78, 4.64, 0], [5.84, 5.85, 0]];
	legs02 = BS2([points004, points005]);

	points006 = [[4.66, 3.87, 0], [4.48, 3.94, 0], [4.2, 4.4, 0], [3.18, 4.51, 0]];
	points007 = [[4.62, 3.8, 0], [4.61, 3.83, 0], [4.21, 4.35, 0], [3.19, 4.48, 0]];
	legs03 = BS2([points006, points007]);
	
	legs04 = MKPOL([[[4.62, 3.8, 0], [4.66, 3.87, 0], [4.78, 3.68, 0], [4.76, 3.77, 0]], [[1, 2, 3, 4]], None]);
	legs05 = MKPOL([[[3.05, 3.29, 0], [3.06, 3.26, 0], [3.05, 3.29, 0.1], [3.06, 3.26, 0.1]], [[1, 2, 3, 4]], None]);
	legs06 = MKPOL([[[5.81, 3.17, 0], [5.84, 3.21, 0], [5.81, 3.17, 0.1], [5.84, 3.21, 0.1]], [[1, 2, 3, 4]], None]);
	legs07 = MKPOL([[[5.88, 5.84, 0], [5.84, 5.85, 0], [5.88, 5.84, 0.1], [5.84, 5.85, 0.1]], [[1, 2, 3, 4]], None]);
	legs08 = MKPOL([[[3.18, 4.51, 0], [3.19, 4.48, 0], [3.18, 4.51, 0.1], [3.19, 4.48, 0.1]], [[1, 2, 3, 4]], None]);

	legs09 = STRUCT([legs00, legs01, legs02, legs03, legs04]);

	points010 = [[4.59, 3.84, 0.1], [4.79, 3.7, 0.1], [3.66, 3.21, 0.1], [3.05, 3.29, 0.1]];
	legs10 = BS2([points000, points010]);

	points011 = [[4.78, 3.68, 0.1], [4.66, 3.84, 0.1], [4.15, 3.21, 0.1], [3.06, 3.26, 0.1]];
	legs11 = BS2([points001, points011]);

	points012 = [[4.78, 3.68, 0.1], [5.11, 3.37, 0.1], [5.32, 3.2, 0.1], [5.81, 3.17, 0.1]];
	legs12 = BS2([points002, points012]);

	points013 = [[4.76, 3.77, 0.1], [5.09, 3.46, 0.1], [5.29, 3.23, 0.1], [5.84, 3.21, 0.1]];
	legs13 = BS2([points003, points013]);

	points014 = [[4.76, 3.77, 0.1], [4.75, 3.89, 0.1], [5.77, 4.4, 0.1], [5.88, 5.84, 0.1]];
	legs14 = BS2([points004, points014]);

	points015 = [[4.66, 3.87, 0.1], [4.75, 3.75, 0.1], [5.78, 4.64, 0.1], [5.84, 5.85, 0.1]];
	legs15 = BS2([points005, points015]);

	points016 = [[4.66, 3.87, 0.1], [4.48, 3.94, 0.1], [4.2, 4.4, 0.1], [3.18, 4.51, 0.1]];
	legs16 = BS2([points006, points016]);
	points017 = [[4.62, 3.8, 0.1], [4.61, 3.83, 0.1], [4.21, 4.35, 0.1], [3.19, 4.48, 0.1]];
	legs17 = BS2([points007, points017]);

	legs0 = STRUCT([legs05, legs06, legs07, legs08, legs09, legs10, legs11, 
		legs12, legs13, legs14, legs15, legs16, legs17, T([3])([0.1]), legs09]);

	legs18 = MKPOL([[[3.19, 4.48, 0.1], [3.19, 4.48, 0.1+2.48], [3.18, 4.51, 0.1], [3.18, 4.51, 0.1+2.48]], [[1, 2, 3, 4]], None]);
	legs19 = MKPOL([[[3.19+0.12, 4.48-0.02, 0.1], [3.19+0.12, 4.48-0.02, 0.1+2.48], [3.18+0.12, 4.515-0.02, 0.1], [3.18+0.12, 4.515-0.02, 0.1+2.48]], [[1, 2, 3, 4]], None]);
	legs20 = MKPOL([[[3.19, 4.48, 0.1], [3.19, 4.48, 0.1+2.48], [3.19+0.12, 4.48-0.02, 0.1], [3.19+0.12, 4.48-0.02, 0.1+2.48]], [[1, 2, 3, 4]], None]);
	legs21 = MKPOL([[[3.18, 4.51, 0.1], [3.18, 4.51, 0.1+2.48], [3.18+0.12, 4.515-0.02, 0.1], [3.18+0.12, 4.515-0.02, 0.1+2.48]], [[1, 2, 3, 4]], None]);
	legs1 = STRUCT([legs18, legs19, legs20, legs21]);

	legs22 = MKPOL([[[5.88, 5.84, 0.1], [5.88, 5.84, 0.1+2.48], [5.84, 5.85, 0.1], [5.84, 5.85, 0.1+2.48]], [[1, 2, 3, 4]], None]);
	legs23 = MKPOL([[[5.8768-0.01, 5.84-0.12, 0.1], [5.8768-0.01, 5.84-0.12, 0.1+2.48], [5.839-0.01, 5.85-0.12, 0.1], [5.839-0.01, 5.85-0.12, 0.1+2.48]], [[1, 2, 3, 4]], None]);
	legs24 = MKPOL([[[5.88, 5.84, 0.1], [5.8768-0.01, 5.84-0.12, 0.1], [5.88, 5.84, 0.1+2.48], [5.8768-0.01, 5.84-0.12, 0.1+2.48]], [[1, 2, 3, 4]], None]);
	legs25 = MKPOL([[[5.84, 5.85, 0.1], [5.839-0.01, 5.85-0.12, 0.1], [5.84, 5.85, 0.1+2.48], [5.839-0.01, 5.85-0.12, 0.1+2.48]], [[1, 2, 3, 4]], None]);
	legs2 = STRUCT([legs22, legs23, legs24, legs25]);

	legs26 = MKPOL([[[4.923, 4, 0.1], [4.923, 4, 0.1+2.48], [4.958, 3.98, 0.1], [4.958, 3.98, 0.1+2.48]], [[1, 2, 3, 4]], None]);
	legs27 = MKPOL([[[4.875, 3.96, 0.1], [4.875, 3.96, 0.1+2.48], [4.892, 3.92, 0.1], [4.892, 3.92, 0.1+2.48]], [[1, 2, 3, 4]], None]);
	legs28 = MKPOL([[[4.923, 4, 0.1], [4.875, 3.96, 0.1], [4.923, 4, 0.1+2.48], [4.875, 3.96, 0.1+2.48]], [[1, 2, 3, 4]], None]);
	legs29 = MKPOL([[[4.958, 3.98, 0.1], [4.892, 3.92, 0.1], [4.958, 3.98, 0.1+2.48], [4.892, 3.92, 0.1+2.48]], [[1, 2, 3, 4]], None]);
	legs3 = STRUCT([legs26, legs27, legs28, legs29]);

	barcelona_legs = STRUCT([legs0, legs1, legs2, legs3, T([3])([0.1+2.48]), legs0]);

	#ropes
	points018 = [[3.19+0.12, 4.46, 0.1], [3.189, 4.477, 0.1], [3.178, 4.515, 0.1], [3.19+0.12, 4.495, 0.1], 
		[4.923, 4, 0.1], [4.96, 3.98, 0.1], [4.905, 3.93, 0.1], [4.89, 3.915, 0.1], [4.875, 3.955, 0.1]];
	ropeNUBS00 =  BSPLINE(1)([0,0,1,2,3,4,5,6,7,8,8])(points018);
	points019 = [[3.19+0.12, 4.46, 0.22], [3.189, 4.477, 0.22], [3.178, 4.515, 0.22], [3.19+0.12, 4.495, 0.22], 
		[4.923, 4, 0.22], [4.96, 3.98, 0.22], [4.905, 3.93, 0.22], [4.89, 3.915, 0.22], [4.875, 3.955, 0.22]];
	ropeNUBS01 = BSPLINE(1)([0,0,1,2,3,4,5,6,7,8,8])(points019);
	points020 = [[3.19+0.12, 4.45, 0.1], [3.18, 4.47, 0.1], [3.165, 4.525, 0.1], [3.2+0.12, 4.51, 0.1], 
		[4.923, 4.02, 0.1], [4.985, 3.99, 0.1], [4.94, 3.95, 0.1], [4.87, 3.935, 0.1], [4.875, 3.95, 0.1]];
	ropeNUBS02 =  BSPLINE(1)([0,0,1,2,3,4,5,6,7,8,8])(points020);
	points021 = [[3.19+0.12, 4.45, 0.22], [3.18, 4.47, 0.22], [3.165, 4.525, 0.22], [3.2+0.12, 4.51, 0.22], 
		[4.923, 4.02, 0.22], [4.985, 3.99, 0.22], [4.94, 3.95, 0.22], [4.87, 3.935, 0.22], [4.875, 3.95, 0.22]];
	ropeNUBS03 =  BSPLINE(1)([0,0,1,2,3,4,5,6,7,8,8])(points021);
	rope01 = MAP(BEZIER(S2)([ropeNUBS00, ropeNUBS01]))(detailed_domain2D);
	rope02 = MAP(BEZIER(S2)([ropeNUBS00, ropeNUBS02]))(detailed_domain2D);
	rope03 = MAP(BEZIER(S2)([ropeNUBS01, ropeNUBS03]))(detailed_domain2D);
	rope04 = MAP(BEZIER(S2)([ropeNUBS02, ropeNUBS03]))(detailed_domain2D);
	ropes0 = STRUCT(NN(9)([T([3])([0.012]), rope01, rope02, rope03, rope04, T([3])([0.12+0.01+0.15])]));

	points022 = [[5.885, 5.85-0.12, 0.1], [5.9, 5.866, 0.1], [5.825, 5.865, 0.1], [5.72, 5.44, 0.1], [5.07, 4.09, 0.1], [4.97, 3.98, 0.1], [4.89, 3.915, 0.1], [4.875, 3.955, 0.1]];
	ropeNUBS04 =  BSPLINE(1)([0,0,1,2,3,4,5,6,7,7])(points022);
	points023 = [[5.885, 5.85-0.12, 0.25], [5.9, 5.86, 0.25], [5.825, 5.865, 0.25], [5.72, 5.44, 0.25], [5.07, 4.09, 0.25], [4.97, 3.98, 0.25], [4.89, 3.915, 0.25], [4.875, 3.955, 0.25]];
	ropeNUBS05 = BSPLINE(1)([0,0,1,2,3,4,5,6,7,7])(points023);
	points024 = [[5.875, 5.84-0.12, 0.1], [5.88, 5.84, 0.1], [5.84, 5.85, 0.1], [5.73, 5.44, 0.1], [5.08, 4.08, 0.1], [4.995, 3.99, 0.1], [4.87, 3.935, 0.1], [4.875, 3.95, 0.1]];
	ropeNUBS06 =  BSPLINE(1)([0,0,1,2,3,4,5,6,7,7])(points024);
	points025 = [[5.875, 5.84-0.12, 0.25], [5.88, 5.84, 0.25], [5.84, 5.85, 0.25], [5.73, 5.44, 0.25], [5.08, 4.08, 0.25], [4.995, 3.99, 0.25], [4.87, 3.935, 0.25], [4.875, 3.95, 0.25]];
	ropeNUBS07 =  BSPLINE(1)([0,0,1,2,3,4,5,6,7,7])(points025);
	rope05 = MAP(BEZIER(S2)([ropeNUBS04, ropeNUBS05]))(detailed_domain2D);
	rope06 = MAP(BEZIER(S2)([ropeNUBS04, ropeNUBS06]))(detailed_domain2D);
	rope07 = MAP(BEZIER(S2)([ropeNUBS05, ropeNUBS07]))(detailed_domain2D);
	rope08 = MAP(BEZIER(S2)([ropeNUBS06, ropeNUBS07]))(detailed_domain2D);
	ropes1 = T([3])([0.01])(STRUCT(NN(8)([T([3])([0.012+0.12]), rope05, rope06, rope07, rope08, T([3])([0.15+0.01])])));

	barcelona_ropes = STRUCT([COLOR([50/255, 50/255, 50/255]), ropes0, ropes1]);

	#pillows
	#bottom pillow
	points026 = [[5.14, 4.24, 0], [3.23, 4.77, 0]];
	points027 = [[5.1, 4.15, 0], [4.61, 4.26, 0], [3.64, 4.49, 0], [3.17, 4.69, 0]];
	points028 = [[5.04, 4.08, 0], [3.16, 4.58, 0]];
	pill00 = BS3([points026, points027, points028]);
	points029 = [[5.14, 4.24, 2.7], [3.23, 4.77, 2.7]];
	points030 = [[5.1, 4.15, 2.7], [4.61, 4.26, 2.7], [3.64, 4.49, 2.7], [3.17, 4.69, 2.7]];
	points031 = [[5.04, 4.08, 2.7], [3.16, 4.58, 2.7]];
	pill01 = BS3([points029, points030, points031]);
	pill02 = BS3([[[5.14, 4.24, 0], [5.14, 4.24, 2.7]], [[5.1, 4.15, 0], [5.1, 4.15, 2.7]], [[5.04, 4.08, 0], [5.04, 4.08, 2.7]]]);
	pill03 = BS3([[[3.23, 4.77, 0], [3.23, 4.77, 2.7]], [[3.17, 4.69, 0], [3.17, 4.69, 2.7]], [[3.16, 4.58, 0], [3.16, 4.58, 2.7]]]);
	pill04 = BS2([points026, points029]);
	pill05 = BS2([points028, points031]);

	pillow00 = STRUCT([pill00, pill01, pill02, pill03, pill04, pill05]);

	#bottom pillow squares
	points032 = [[3.69, 4.65, 0.27], [3.51, 4.88, 0.27], [3.45, 4.9, 0.27], [3.25, 4.77, 0.27]];
	points033 = [[3.69, 4.65, 0], [3.25, 4.77, 0]];
	points034 = [[3.69, 4.65, 0.54], [3.25, 4.77, 0.54]];
	pill06 = BS3([points033, points032, points034]);

	points035 = [[4.17, 4.51, 0.27], [4.16, 4.68, 0.27], [3.75, 4.83, 0.27], [3.69, 4.65, 0.27]];
	points036 = [[4.17, 4.51, 0], [3.69, 4.65, 0]];
	points037 = [[4.17, 4.51, 0.54], [3.69, 4.65, 0.54]];
	pill07 = BS3([points036, points035, points037]);

	points038 = [[4.17, 4.51, 0.27], [4.22, 4.67, 0.27], [4.67, 4.56, 0.27], [4.66, 4.37, 0.27]];
	points039 = [[4.17, 4.51, 0], [4.66, 4.37, 0]];
	points040 = [[4.17, 4.51, 0.54], [4.66, 4.37, 0.54]];
	pill08 = BS3([points039, points038, points040]);

	points041 = [[5.12, 4.25, 0.27], [5.03, 4.44, 0.27], [4.67, 4.56, 0.27], [4.66, 4.37, 0.27]];
	points042 = [[5.12, 4.25, 0], [4.66, 4.37, 0]];
	points043 = [[5.12, 4.25, 0.54], [4.66, 4.37, 0.54]];
	pill09 = BS3([points042, points041, points043]);

	pillow01 = STRUCT(NN(5)([pill06, pill07, pill08, pill09, T([3])([0.54])]));
	pillow_button00 = T([1, 2, 3])([3.69+0.01, 4.65+0.01, 0.54])(R([1, 2])(-PI/15)(R([2, 3])(PI/2)(CYLINDER([0.04, 0.01])(12))));
	pillow_buttons_row0 = STRUCT([pillow_button00, T([1, 2])([4.17-3.7, 4.51-4.65]), pillow_button00, T([1, 2])([4.66-4.17, 4.37-4.51]), pillow_button00]);
	pillow_buttons00 = STRUCT(NN(4)([pillow_buttons_row0, T([3])([0.54])]));

	#back pillow
	points044 = [[5.13, 4.28, 0], [5.36, 4.63, 0], [5.75, 5.46, 0], [5.79, 5.84, 0]];
	points045 = [[5.04, 4.31, 0], [5.35, 4.81, 0], [5.56, 5.32, 0], [5.7, 5.9, 0]];
	points046 = [[4.98, 4.35, 0], [5.24, 4.84, 0], [5.47, 5.36, 0], [5.61, 5.91, 0]];
	pill10 = BS3([points044, points045, points046]);

	points047 = [[5.13, 4.28, 2.7], [5.36, 4.63, 2.7], [5.75, 5.46, 2.7], [5.79, 5.84, 2.7]];
	points048 = [[5.04, 4.31, 2.7], [5.35, 4.81, 2.7], [5.56, 5.32, 2.7], [5.7, 5.9, 2.7]];
	points049 = [[4.98, 4.35, 2.7], [5.24, 4.84, 2.7], [5.47, 5.36, 2.7], [5.61, 5.91, 2.7]];
	pill11 = BS3([points047, points048, points049]);

	pill12 = BS3([[[5.13, 4.28, 0], [5.13, 4.28, 2.7]], [[5.04, 4.31, 0], [5.04, 4.31, 2.7]], [[4.98, 4.35, 0], [4.98, 4.35, 2.7]]]);
	pill13 = BS3([[[5.79, 5.84, 0], [5.79, 5.84, 2.7]], [[5.7, 5.9, 0], [5.7, 5.9, 2.7]], [[5.61, 5.91, 0], [5.61, 5.91, 2.7]]]);
	pill14 = BS2([points047, points044]);
	pill15 = BS2([points046, points049]);
	pillow02 = STRUCT([pill10, pill11, pill12, pill13, pill14, pill15]);

	#back pillow squares
	points050 = [[4.98, 4.38, 0.27], [4.92, 4.45, 0.27], [5.08, 4.78, 0.27], [5.16, 4.72, 0.27]];
	points051 = [[4.98, 4.38, 0], [5.16, 4.72, 0]];
	points052 = [[4.98, 4.38, 0.54], [5.16, 4.72, 0.54]];
	pill16 = BS3([points051, points050, points052]);

	points053 = [[5.34, 5.11, 0.27], [5.26, 5.22, 0.27], [5.02, 4.72, 0.27], [5.16, 4.72, 0.27]];
	points054 = [[5.34, 5.11, 0.54], [5.16, 4.72, 0.54]];
	points055 = [[5.34, 5.11, 0], [5.16, 4.72, 0]];
	pill17 = BS3([points054, points053, points055]);

	points056 = [[5.34, 5.11, 0.27], [5.2, 5.13, 0.27], [5.41, 5.62, 0.27], [5.48, 5.52, 0.27]];
	points057 = [[5.34, 5.11, 0], [5.48, 5.52, 0]];
	points058 = [[5.34, 5.11, 0.54], [5.48, 5.52, 0.54]];
	pill18 = BS3([points057, points056, points058]);

	points059 = [[5.6, 5.89, 0.27], [5.5, 5.85, 0.27], [5.38, 5.54, 0.27], [5.48, 5.52, 0.27]];
	points060 = [[5.6, 5.89, 0], [5.48, 5.52, 0]];
	points061 = [[5.6, 5.89, 0.54], [5.48, 5.52, 0.54]];
	pill19 = BS3([points060, points059, points061]);

	pillow03 = STRUCT(NN(5)([pill16, pill17, pill18, pill19, T([3])([0.54])]));
	pillow_button01 = T([1, 2, 3])([5.16-0.01, 4.72, 0.54])(R([1, 2])(PI/2-PI/10)(R([2, 3])(PI/2)(CYLINDER([0.04, 0.01])(12))));
	pillow_buttons_row1 = STRUCT([pillow_button01, T([1, 2])([5.16-4.99, 5.11-4.72]), pillow_button01, T([1, 2])([5.34-5.19, 5.52-5.11]), pillow_button01]);
	pillow_buttons01 = STRUCT(NN(4)([pillow_buttons_row1, T([3])([0.54])]));
	barcelona_pillows = STRUCT([COLOR(color), pillow00, pillow01, pillow_buttons00, pillow02, pillow03, pillow_buttons01]);

	return STRUCT([barcelona_pillows, barcelona_ropes, barcelona_legs]);

#creation and positioning

barcelona_chair0 =  T([1, 2, 3])([43, 5.1, 77.5])(R([1, 3])(PI)(S([1, 2, 3])([1.25,1.25,1.25])(BARCELONA_CHAIR(BROWN))));
VIEW(barcelona_chair0);

barcelona_chair1 =  T([1, 2, 3])([47, 5.1, 76])(R([1, 3])(-PI/2)(S([1, 2, 3])([1.25,1.25,1.25])(BARCELONA_CHAIR(BROWN))));
VIEW(barcelona_chair1);